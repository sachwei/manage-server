webpackJsonp([21],{AKkp:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"login",data:function(){return{autoLogin:!0,userName:"",password:"",headUrl:"",userCnName:""}},watch:{userName:function(){this.user&&-1!==this.user.email.indexOf(this.userName)&&(this.headUrl=this.$ccService.ccHeadUrl+this.user.email,this.userCnName=this.user.userName)}},mounted:function(){this.autoLogin=this.$localStore.get("autoLogin")&&!0},methods:{onSubmit:function(){var e=this,t="userName="+encodeURIComponent(this.userName)+"&password="+encodeURIComponent(this.$encrypt.encrypt(this.password,this.userName))+"&loginCode=&loginType=1&deviceId=00%3A15%3A5d%3A04%3A0f%3A00";this.$http.post(this.$apiUrl.LOGIN,{key:t}).then(function(t){t&&t.data&&(e.$localStore.set("user",t.data),e.$localStore.set("autoLogin",e.autoLogin),e.$router.push({path:"/"}))}).catch(function(){e.$message({title:"警告",message:"登陆失败",type:"warning"})})}}},n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login-wrapper cover"},[s("img",{staticClass:"user-head",attrs:{src:e.headUrl,alt:""}}),e._v(" "),e.userCnName?s("span",{staticClass:"user-name"},[e._v(e._s(e.userCnName)+"，欢迎登录：）")]):e._e(),e._v(" "),s("div",{staticClass:"login-box"},[s("div",{staticClass:"user-info"},[s("span",{staticClass:"user-info-title"},[e._v("Username:")]),e._v(" "),s("el-input",{model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}}),e._v(" "),s("span",{staticClass:"user-info-title"},[e._v("Password:")]),e._v(" "),s("el-input",{attrs:{type:"password"},nativeOn:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.onSubmit(t):null}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e._v(" "),s("div",{staticClass:"login-btn-box"},[s("el-checkbox",{staticClass:"keep-login-chk",model:{value:e.autoLogin,callback:function(t){e.autoLogin=t},expression:"autoLogin"}},[e._v("keep me logged in")]),e._v(" "),s("el-button",{staticClass:"login-btn",attrs:{type:"primary",round:""},on:{click:e.onSubmit}},[e._v("Login")])],1)])])},staticRenderFns:[]};var i=s("VU/8")(a,n,!1,function(e){s("eY2U")},null,null);t.default=i.exports},eY2U:function(e,t){}});
//# sourceMappingURL=21.e74821703b0b36da3594.js.map
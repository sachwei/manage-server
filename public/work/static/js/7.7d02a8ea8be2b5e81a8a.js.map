{"version":3,"sources":["webpack:///src/modules/sprint/components/sprint-task-analyse.vue","webpack:///./src/modules/sprint/components/sprint-task-analyse.vue?e8fd","webpack:///./src/modules/sprint/components/sprint-task-analyse.vue","webpack:///src/modules/sprint/components/team-rate-chart.vue","webpack:///./src/modules/sprint/components/team-rate-chart.vue?17d1","webpack:///./src/modules/sprint/components/team-rate-chart.vue","webpack:///src/modules/sprint/components/burndown-chart.vue","webpack:///./src/modules/sprint/components/burndown-chart.vue?f075","webpack:///./src/modules/sprint/components/burndown-chart.vue","webpack:///src/modules/dashboard/components/todo-board.vue","webpack:///./src/modules/dashboard/components/todo-board.vue?bc70","webpack:///./src/modules/dashboard/components/todo-board.vue","webpack:///src/modules/dashboard/components/sprint-board.vue","webpack:///./src/modules/dashboard/components/sprint-board.vue?1cdf","webpack:///./src/modules/dashboard/components/sprint-board.vue","webpack:///src/modules/dashboard/components/team-rate-board.vue","webpack:///./src/modules/dashboard/components/team-rate-board.vue?e466","webpack:///./src/modules/dashboard/components/team-rate-board.vue","webpack:///src/modules/dashboard/components/sprint-bug-board.vue","webpack:///./src/modules/dashboard/components/sprint-bug-board.vue?9d0e","webpack:///./src/modules/dashboard/components/sprint-bug-board.vue","webpack:///src/modules/dashboard/components/sprint-task-board.vue","webpack:///./src/modules/dashboard/components/sprint-task-board.vue?2f37","webpack:///./src/modules/dashboard/components/sprint-task-board.vue","webpack:///src/modules/dashboard/pages/PersonalBoard.vue","webpack:///./src/modules/dashboard/pages/PersonalBoard.vue?2772","webpack:///./src/modules/dashboard/pages/PersonalBoard.vue","webpack:///src/modules/bug/components/sprint-bug-chart.vue","webpack:///./src/modules/bug/components/sprint-bug-chart.vue?e674","webpack:///./src/modules/bug/components/sprint-bug-chart.vue"],"names":["sprint_task_analyse","curSprint","backlogList","onresizeDraw","countType","drawChart","_this","this","refresh","dispose","initData","tasks","j","estimate","key","legendData","todoData","doingData","doneData","components_sprint_task_analyse","render","_h","$createElement","_c","_self","staticStyle","height","width","attrs","span","id","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","team_rate_chart","calcRateOfDay","calcDateAndTime","startDate","publishDate","_ref","getFullYear","getMonth","getDate","tmpDate","i","testDayTotal","backlog","_i","teams","count","dateList","taskRateList","sprintRateList","components_team_rate_chart","burndown_chart","calcTotalTime","_this2","rateOfDay","planTotal","dayTotal","totalTime","planDataList","actualDataList","testDataList","components_burndown_chart","todo_board","methods","extends_default","findBugCount","findTaskCount","email","data","_this3","_this4","link","components_todo_board","_vm","staticClass","on","click","$event","onLink","_v","_s","bugCount","_e","taskCount","uiTaskCount","testBacklogCount","dashboard_components_todo_board","sprint_board","sprintBurndown","components_sprint_board","title","ref","dashboard_components_sprint_board","sprint_board_normalizeComponent","team_rate_board","teamRateChart","components_team_rate_board","dashboard_components_team_rate_board","team_rate_board_normalizeComponent","sprint_bug_board","sprintBugChart","components_sprint_bug_board","dashboard_components_sprint_bug_board","sprint_bug_board_normalizeComponent","sprint_task_board","sprintTaskAnalyse","components_sprint_task_board","userList","todoBoard","sprintBoard","teamRateBoard","sprintBugBoard","sprintTaskBoard","sprint_task_board_normalizeComponent","findCurSprint","pages_PersonalBoard","list","sprintList","model","value","callback","$$v","expression","gutter","PersonalBoard_Component","PersonalBoard_normalizeComponent","PersonalBoard","sprint_bug_chart","fintBugOrbit","setBugOrbit","calcData","curSprintId","resolve","productId","condition","Date","dates","newData","leaveData","components_sprint_bug_chart"],"mappings":"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","file":"static/js/7.7d02a8ea8be2b5e81a8a.js","sourcesContent":["<template>\r\n  <el-row style=\"height:100%;width:100%\">\r\n    <el-col :span=\"24\" style=\"height: 100%\">\r\n      <div id=\"task-type-pie\"></div>\r\n    </el-col>\r\n  </el-row>\r\n</template>\r\n\r\n<script>\r\nimport echarts from 'echarts'\r\nexport default {\r\n  data () {\r\n    return {\r\n      chart: {},\r\n      legendData: [],\r\n      todoData: [],\r\n      doingData: [],\r\n      doneData: []\r\n    }\r\n  },\r\n  computed: {\r\n    curSprint () {\r\n      return this.$store.state.sprint.curSprint\r\n    },\r\n    backlogList () {\r\n      return this.$store.state.sprint.backlogList\r\n    }\r\n  },\r\n  methods: {\r\n    initParam () {\r\n      this.onresizeDraw()\r\n    },\r\n    initData () {\r\n      if (this.curSprint.id) {\r\n        this.countType()\r\n        this.drawChart()\r\n      }\r\n    },\r\n    onresizeDraw () {\r\n      window.onresize = () => {\r\n        return (() => {\r\n          this.refresh()\r\n        })()\r\n      }\r\n    },\r\n    refresh () {\r\n      try {\r\n        this.chart.dispose()\r\n      } catch (error) {}\r\n      try {\r\n        this.initData()\r\n      } catch (error) {}\r\n    },\r\n    countType () {\r\n      this.legendData = []\r\n      this.todoData = []\r\n      this.doingData = []\r\n      this.doneData = []\r\n\r\n      let todo = []\r\n      let doing = []\r\n      let done = []\r\n      let tasks = []\r\n      let task = {}\r\n      for (let i = 0, len = this.backlogList.length; i < len; i++) {\r\n        tasks = this.backlogList[i].tasks\r\n        for (let j = 0, len = tasks.length; j < len; j++) {\r\n          task = tasks[j]\r\n          if (todo[task.type] >= 0) {\r\n            if (!task.startDate) {\r\n              todo[task.type] += task.estimate\r\n            } else if (task.startDate && !task.endDate) {\r\n              doing[task.type] += task.estimate\r\n            } else {\r\n              done[task.type] += task.estimate\r\n            }\r\n          } else {\r\n            todo[task.type] = 0\r\n            doing[task.type] = 0\r\n            done[task.type] = 0\r\n            if (!task.startDate) {\r\n              todo[task.type] = task.estimate\r\n            } else if (task.startDate && !task.endDate) {\r\n              doing[task.type] = task.estimate\r\n            } else {\r\n              done[task.type] = task.estimate\r\n            }\r\n          }\r\n        }\r\n      }\r\n      for (let key in todo) {\r\n        this.legendData.push(key)\r\n        this.todoData.push(todo[key])\r\n        this.doingData.push(doing[key])\r\n        this.doneData.push(done[key])\r\n      }\r\n    },\r\n    drawChart () {\r\n      this.chart = echarts.init(document.getElementById('task-type-pie'))\r\n      this.chart.setOption({\r\n        tooltip: {\r\n          trigger: 'axis',\r\n          axisPointer: {\r\n            type: 'shadow'\r\n          }\r\n        },\r\n        legend: {\r\n          data: ['待认领', '进行中', '已完成'],\r\n          right: 10\r\n        },\r\n        grid: {\r\n          top: 40,\r\n          left: 0,\r\n          right: 10,\r\n          bottom: 0,\r\n          containLabel: true\r\n        },\r\n        xAxis: [{\r\n          type: 'category',\r\n          data: this.legendData\r\n        }],\r\n        yAxis: [{\r\n          type: 'value'\r\n        }],\r\n        series: [\r\n          {\r\n            name: '待认领',\r\n            type: 'bar',\r\n            stack: '1',\r\n            data: this.todoData\r\n          },\r\n          {\r\n            name: '进行中',\r\n            type: 'bar',\r\n            stack: '1',\r\n            data: this.doingData\r\n          },\r\n          {\r\n            name: '已完成',\r\n            type: 'bar',\r\n            stack: '1',\r\n            data: this.doneData\r\n          }\r\n        ]\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  #task-type-pie{\r\n    height: 100%;\r\n    width: 100%;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/modules/sprint/components/sprint-task-analyse.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',{staticStyle:{\"height\":\"100%\",\"width\":\"100%\"}},[_c('el-col',{staticStyle:{\"height\":\"100%\"},attrs:{\"span\":24}},[_c('div',{attrs:{\"id\":\"task-type-pie\"}})])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-777fd434\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/modules/sprint/components/sprint-task-analyse.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-777fd434\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./sprint-task-analyse.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./sprint-task-analyse.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./sprint-task-analyse.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-777fd434\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./sprint-task-analyse.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-777fd434\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/modules/sprint/components/sprint-task-analyse.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"team-rate-chart\"></div>\r\n</template>\r\n\r\n<script>\r\nimport echarts from 'echarts'\r\nexport default {\r\n  data () {\r\n    return {\r\n      dateList: [],\r\n      taskRateList: [],\r\n      sprintRateList: [],\r\n      rateOfDay: 0,\r\n      chart: {}\r\n    }\r\n  },\r\n  computed: {\r\n    curSprint () {\r\n      return this.$store.state.sprint.curSprint\r\n    },\r\n    backlogList () {\r\n      return this.$store.state.sprint.backlogList\r\n    }\r\n  },\r\n  methods: {\r\n    initParam () {\r\n      this.onresizeDraw()\r\n    },\r\n    initData () {\r\n      if (this.curSprint.id) {\r\n        this.calcRateOfDay()\r\n        this.calcDateAndTime()\r\n        this.drawChart()\r\n      }\r\n    },\r\n    onresizeDraw () {\r\n      window.onresize = () => {\r\n        return (() => {\r\n          this.refresh()\r\n        })()\r\n      }\r\n    },\r\n    refresh () {\r\n      try {\r\n        this.chart.dispose()\r\n      } catch (error) {}\r\n      try {\r\n        this.initData()\r\n      } catch (error) {}\r\n    },\r\n    /**\r\n     * 计算迭代周期和每日进度\r\n     */\r\n    calcDateAndTime () {\r\n      this.sprintRateList = []\r\n      this.taskRateList = []\r\n      this.dateList = []\r\n      this.rateList = []\r\n\r\n      // 项目开始、结束时间\r\n      let startDate = new Date(this.curSprint.startDate)\r\n      let endDate = new Date(this.curSprint.publishDate)\r\n      let misDay = (endDate.getTime() - startDate.getTime()) / 1000 / 60 / 60 / 24\r\n      let [year, month, day] = [startDate.getFullYear(), startDate.getMonth(), startDate.getDate()]\r\n\r\n      let tmpDate\r\n      let tmpDay = 0\r\n      for (let i = 0; i <= misDay; i++) {\r\n        tmpDay = day + i\r\n        tmpDate = new Date(year, month, tmpDay)\r\n        // 排除周日\r\n        if (tmpDate.getDay() !== 0) {\r\n          this.dateList.push(tmpDate.getDate())\r\n\r\n          // 生产率\r\n          let [testDayTotal, dayTotal] = [0, 0]\r\n          let tasks, task, backlog\r\n          if ((new Date().getTime() - tmpDate.getTime()) > 0) {\r\n            for (let i = 0, len = this.backlogList.length; i < len; i++) {\r\n              backlog = this.backlogList[i]\r\n              tasks = backlog.tasks\r\n              for (let j = 0, len = tasks.length; j < len; j++) {\r\n                task = tasks[j]\r\n                if ((new Date(task.endDate).getMonth() === tmpDate.getMonth()) && (new Date(task.endDate).getDate() === tmpDate.getDate())) {\r\n                  dayTotal += task.estimate\r\n                }\r\n              }\r\n\r\n              // 测试\r\n              if ((new Date(backlog.endTestDate).getMonth() === tmpDate.getMonth()) && (new Date(backlog.endTestDate).getDate() === tmpDate.getDate())) {\r\n                testDayTotal += task.estimate\r\n              }\r\n            }\r\n            this.taskRateList.push((dayTotal / this.rateOfDay).toFixed(1))\r\n            this.sprintRateList.push((testDayTotal / this.rateOfDay).toFixed(1))\r\n          }\r\n        }\r\n      }\r\n    },\r\n    calcRateOfDay () {\r\n      this.rateOfDay = 0\r\n      let team = this.curSprint.teams\r\n      let count = 0\r\n      for (let i = 0, len = team.length; i < len; i++) {\r\n        count += team[i].rate || 1\r\n      }\r\n      this.rateOfDay = count\r\n    },\r\n    drawChart () {\r\n      this.chart = echarts.init(document.getElementById('team-rate-chart'))\r\n      this.chart.setOption({\r\n        legend: {\r\n          data: ['任务生产率', '故事生产率'],\r\n          right: '4%'\r\n        },\r\n        grid: {\r\n          top: 40,\r\n          left: 0,\r\n          right: 10,\r\n          bottom: 0,\r\n          containLabel: true\r\n        },\r\n        tooltip: {\r\n          trigger: 'axis',\r\n          axisPointer: {\r\n            type: 'shadow'\r\n          }\r\n        },\r\n        xAxis: {\r\n          type: 'category',\r\n          boundaryGap: false,\r\n          data: this.dateList\r\n        },\r\n        yAxis: [\r\n          {\r\n            type: 'value'\r\n          }\r\n        ],\r\n        series: [\r\n          {\r\n            name: '任务生产率',\r\n            type: 'line',\r\n            label: {\r\n              normal: {\r\n                show: true,\r\n                position: 'top',\r\n                formatter: '{c}',\r\n                color: 'black'\r\n              }\r\n            },\r\n            data: this.taskRateList\r\n          },\r\n          {\r\n            name: '故事生产率',\r\n            type: 'line',\r\n            label: {\r\n              normal: {\r\n                show: true,\r\n                position: 'top',\r\n                formatter: '{c}',\r\n                color: 'black'\r\n              }\r\n            },\r\n            data: this.sprintRateList\r\n          }\r\n        ]\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  #team-rate-chart{\r\n    height: 100%;\r\n    width: 100%;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/modules/sprint/components/team-rate-chart.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"team-rate-chart\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bac39264\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/modules/sprint/components/team-rate-chart.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-bac39264\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./team-rate-chart.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./team-rate-chart.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./team-rate-chart.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bac39264\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./team-rate-chart.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-bac39264\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/modules/sprint/components/team-rate-chart.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"burn-down-chart\"></div>\r\n</template>\r\n\r\n<script>\r\nimport echarts from 'echarts'\r\nexport default {\r\n  data () {\r\n    return {\r\n      chart: {},\r\n      // x轴\r\n      dateList: [],\r\n      // 计划线\r\n      planDataList: [],\r\n      // 实际线(任务维度)\r\n      actualDataList: [],\r\n      // 功能测试线\r\n      testDataList: [],\r\n      totalTime: 0,\r\n      rateOfDay: 0\r\n    }\r\n  },\r\n  computed: {\r\n    curSprint () {\r\n      return this.$store.state.sprint.curSprint\r\n    },\r\n    backlogList () {\r\n      return this.$store.state.sprint.backlogList\r\n    }\r\n  },\r\n  methods: {\r\n    initParam () {\r\n      this.onresizeDraw()\r\n    },\r\n    initData () {\r\n      if (this.curSprint.id) {\r\n        this.calcTotalTime()\r\n        this.calcRateOfDay()\r\n        this.calcDateAndTime()\r\n        this.drawChart()\r\n      }\r\n    },\r\n    onresizeDraw () {\r\n      window.onresize = () => {\r\n        return (() => {\r\n          this.refresh()\r\n        })()\r\n      }\r\n    },\r\n    refresh () {\r\n      try {\r\n        this.chart.dispose()\r\n      } catch (error) {}\r\n      try {\r\n        this.initData()\r\n      } catch (error) {}\r\n    },\r\n    calcTotalTime () {\r\n      this.totalTime = 0\r\n      this.backlogList.forEach((item) => {\r\n        this.totalTime += item.estimate\r\n      })\r\n    },\r\n\r\n    /**\r\n     * 计算迭代周期和每日进度\r\n     */\r\n    calcDateAndTime () {\r\n      this.dateList = []\r\n      this.planDataList = []\r\n      this.actualDataList = []\r\n      this.testDataList = []\r\n\r\n      // 项目开始、结束时间\r\n      let startDate = new Date(this.curSprint.startDate)\r\n      let endDate = new Date(this.curSprint.publishDate)\r\n      let misDay = (endDate.getTime() - startDate.getTime()) / 1000 / 60 / 60 / 24\r\n      let [year, month, day] = [startDate.getFullYear(), startDate.getMonth(), startDate.getDate()]\r\n\r\n      // 标准累计完成故事点\r\n      let planTotal = 0\r\n      // 标准剩余故事点\r\n      let planLeftTotal = 1\r\n      let total = 0\r\n      let testTotal = 0\r\n\r\n      let tmpDate\r\n      let tmpDay = 0\r\n      for (let i = 0; i <= misDay; i++) {\r\n        tmpDay = day + i\r\n        tmpDate = new Date(year, month, tmpDay)\r\n        // 排除周日\r\n        if (tmpDate.getDay() !== 0) {\r\n          this.dateList.push(tmpDate.getDate())\r\n\r\n          // 计算标准每日完成故事点\r\n          if (planLeftTotal > 0) {\r\n            // 标准不计算周六\r\n            if (tmpDate.getDay() !== 6) {\r\n              planTotal += this.rateOfDay\r\n            }\r\n\r\n            planLeftTotal = this.totalTime - planTotal\r\n            if (planLeftTotal < 0) {\r\n              planLeftTotal = 0\r\n            }\r\n            this.planDataList.push(planLeftTotal.toFixed(1))\r\n          }\r\n\r\n          let dayTotal = 0\r\n          let testDayTotal = 0\r\n          let tasks, task, backlog\r\n          if ((new Date().getTime() - tmpDate.getTime()) > 0) {\r\n            dayTotal = 0\r\n            for (let i = 0, len = this.backlogList.length; i < len; i++) {\r\n              backlog = this.backlogList[i]\r\n              tasks = backlog.tasks\r\n              for (let j = 0, len = tasks.length; j < len; j++) {\r\n                task = tasks[j]\r\n                if ((new Date(task.endDate).getMonth() === tmpDate.getMonth()) && (new Date(task.endDate).getDate() === tmpDate.getDate())) {\r\n                  dayTotal += task.estimate\r\n                }\r\n              }\r\n\r\n              // 测试\r\n              if ((new Date(backlog.endTestDate).getMonth() === tmpDate.getMonth()) && (new Date(backlog.endTestDate).getDate() === tmpDate.getDate())) {\r\n                testDayTotal += backlog.estimate\r\n              }\r\n            }\r\n            total = total + dayTotal\r\n            testTotal = testTotal + testDayTotal\r\n            this.actualDataList.push((this.totalTime - total).toFixed(1))\r\n            this.testDataList.push((this.totalTime - testTotal).toFixed(1))\r\n          }\r\n        }\r\n      }\r\n    },\r\n    calcRateOfDay () {\r\n      let team = this.curSprint.teams\r\n      let count = 0\r\n      for (let i = 0, len = team.length; i < len; i++) {\r\n        count += team[i].rate || 1\r\n      }\r\n      this.rateOfDay = count\r\n    },\r\n    drawChart () {\r\n      this.chart = echarts.init(document.getElementById('burn-down-chart'))\r\n      this.chart.setOption({\r\n        legend: {\r\n          data: ['标准', '实际', '测试'],\r\n          right: 10\r\n        },\r\n        grid: {\r\n          top: 40,\r\n          left: 0,\r\n          right: 10,\r\n          bottom: 0,\r\n          containLabel: true\r\n        },\r\n        tooltip: {\r\n          trigger: 'axis',\r\n          axisPointer: {\r\n            type: 'shadow'\r\n          }\r\n        },\r\n        xAxis: {\r\n          type: 'category',\r\n          boundaryGap: false,\r\n          data: this.dateList\r\n        },\r\n        yAxis: [\r\n          {\r\n            type: 'value',\r\n            max: this.totalTime\r\n          }\r\n        ],\r\n        series: [\r\n          {\r\n            name: '标准',\r\n            type: 'line',\r\n            label: {\r\n              normal: {\r\n                show: true,\r\n                position: 'top',\r\n                formatter: '{c}',\r\n                color: 'black'\r\n              }\r\n            },\r\n            data: this.planDataList\r\n          },\r\n          {\r\n            name: '实际',\r\n            type: 'line',\r\n            label: {\r\n              normal: {\r\n                show: true,\r\n                position: 'top',\r\n                formatter: '{c}',\r\n                color: 'black'\r\n              }\r\n            },\r\n            data: this.actualDataList\r\n          },\r\n          {\r\n            name: '测试',\r\n            type: 'line',\r\n            label: {\r\n              normal: {\r\n                show: true,\r\n                position: 'top',\r\n                formatter: '{c}',\r\n                color: 'black'\r\n              }\r\n            },\r\n            data: this.testDataList\r\n          }\r\n        ]\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  #burn-down-chart{\r\n    height: 100%;\r\n    width: 100%;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/modules/sprint/components/burndown-chart.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"burn-down-chart\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-28d754e0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/modules/sprint/components/burndown-chart.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-28d754e0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./burndown-chart.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./burndown-chart.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./burndown-chart.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-28d754e0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./burndown-chart.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-28d754e0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/modules/sprint/components/burndown-chart.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"todo-board\">\r\n    <span v-if=\"bugCount\" @click=\"onLink('/todo/list')\">\r\n      待办缺陷（<b>{{ bugCount }}</b>）\r\n    </span>\r\n    <span v-if=\"taskCount\" @click=\"onLink('/sprint/board')\">\r\n      待办任务（<b>{{ taskCount }}</b>）\r\n    </span>\r\n    <span v-if=\"uiTaskCount\" @click=\"onLink('/product/backlog')\">\r\n      设计任务（<b>{{ uiTaskCount }}</b>）\r\n    </span>\r\n    <span v-if=\"testBacklogCount\" @click=\"onLink('/sprint/board')\">\r\n      测试任务（<b>{{ testBacklogCount }}</b>）\r\n    </span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations } from 'vuex'\r\nexport default {\r\n  data () {\r\n    return {\r\n      bugCount: 0,\r\n      taskCount: 0,\r\n      uiTaskCount: 0,\r\n      testBacklogCount: 0\r\n    }\r\n  },\r\n  methods: {\r\n    initData () {\r\n      this.findBugCount()\r\n      this.findTaskCount()\r\n    },\r\n    findBugCount () {\r\n      let condition = {\r\n        curUserId: this.user.email,\r\n        state: { '$ne': 5 }\r\n      }\r\n      this.$dataService.findCount('bugs', condition).then((data) => {\r\n        this.bugCount = data\r\n      })\r\n    },\r\n    findTaskCount () {\r\n      let condition = {\r\n        'tasks.userId': this.user.email,\r\n        'state': { '$ne': 3 }\r\n      }\r\n      this.$dataService.find(this.$apiUrl.BASE_FIND + 'backlogs', condition).then((data) => {\r\n        if (data && data.length > 0) {\r\n          data.forEach(item => {\r\n            item.tasks.forEach(task => {\r\n              if (!task.endDate && (task.userId === this.user.email)) {\r\n                this.taskCount = this.taskCount + 1\r\n              }\r\n            })\r\n          })\r\n        }\r\n      })\r\n    },\r\n    findUiTaskCount () {\r\n      let condition = {\r\n        uiUserId: this.user.email,\r\n        state: { '$in': [1, 2] }\r\n      }\r\n      this.$dataService.findCount('backlogs', condition).then((data) => {\r\n        this.uiTaskCount = data\r\n      })\r\n    },\r\n    findTestCount () {\r\n      let condition = {\r\n        testUserId: this.user.email,\r\n        endTestDate: { '$exists': false }\r\n      }\r\n      this.$dataService.findCount('backlogs', condition).then((data) => {\r\n        this.testBacklogCount = data\r\n      })\r\n    },\r\n    onLink (link) {\r\n      this.setCurMenu(link)\r\n      this.$router.push({ path: link })\r\n    },\r\n    ...mapMutations(['setCurMenu'])\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .todo-board{\r\n    display: flex;\r\n\r\n    span{\r\n      font-size: 14px;\r\n      margin-right: 10px;\r\n    }\r\n\r\n    b{\r\n      color: red;\r\n      cursor: pointer;\r\n      text-decoration: underline;\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/modules/dashboard/components/todo-board.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"todo-board\"},[(_vm.bugCount)?_c('span',{on:{\"click\":function($event){_vm.onLink('/todo/list')}}},[_vm._v(\"\\n    待办缺陷（\"),_c('b',[_vm._v(_vm._s(_vm.bugCount))]),_vm._v(\"）\\n  \")]):_vm._e(),_vm._v(\" \"),(_vm.taskCount)?_c('span',{on:{\"click\":function($event){_vm.onLink('/sprint/board')}}},[_vm._v(\"\\n    待办任务（\"),_c('b',[_vm._v(_vm._s(_vm.taskCount))]),_vm._v(\"）\\n  \")]):_vm._e(),_vm._v(\" \"),(_vm.uiTaskCount)?_c('span',{on:{\"click\":function($event){_vm.onLink('/product/backlog')}}},[_vm._v(\"\\n    设计任务（\"),_c('b',[_vm._v(_vm._s(_vm.uiTaskCount))]),_vm._v(\"）\\n  \")]):_vm._e(),_vm._v(\" \"),(_vm.testBacklogCount)?_c('span',{on:{\"click\":function($event){_vm.onLink('/sprint/board')}}},[_vm._v(\"\\n    测试任务（\"),_c('b',[_vm._v(_vm._s(_vm.testBacklogCount))]),_vm._v(\"）\\n  \")]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f793838c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/modules/dashboard/components/todo-board.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f793838c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./todo-board.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./todo-board.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./todo-board.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f793838c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./todo-board.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f793838c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/modules/dashboard/components/todo-board.vue\n// module id = null\n// module chunks = ","<template>\r\n  <ew-card title=\"项目状态\" style=\"height: 350px\">\r\n    <sprint-burndown ref=\"burnDownChart\"></sprint-burndown>\r\n  </ew-card>\r\n</template>\r\n\r\n<script>\r\nimport sprintBurndown from '../../sprint/components/burndown-chart'\r\nexport default {\r\n  data () {\r\n    return {\r\n    }\r\n  },\r\n  components: {\r\n    sprintBurndown\r\n  },\r\n  computed: {\r\n    curSprint () {\r\n      return this.$store.state.sprint.curSprint\r\n    }\r\n  },\r\n  watch: {\r\n    curSprint () {\r\n      this.$refs.burnDownChart.refresh()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/modules/dashboard/components/sprint-board.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ew-card',{staticStyle:{\"height\":\"350px\"},attrs:{\"title\":\"项目状态\"}},[_c('sprint-burndown',{ref:\"burnDownChart\"})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4a8f3b0b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/modules/dashboard/components/sprint-board.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4a8f3b0b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./sprint-board.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./sprint-board.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./sprint-board.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4a8f3b0b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./sprint-board.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4a8f3b0b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/modules/dashboard/components/sprint-board.vue\n// module id = null\n// module chunks = ","<template>\r\n  <ew-card title=\"团队效率\" style=\"height: 350px\">\r\n    <team-rate-chart ref=\"teamRateChart\"></team-rate-chart>\r\n  </ew-card>\r\n</template>\r\n\r\n<script>\r\nimport teamRateChart from '../../sprint/components/team-rate-chart'\r\nexport default {\r\n  components: {\r\n    teamRateChart\r\n  },\r\n  computed: {\r\n    curSprint () {\r\n      return this.$store.state.sprint.curSprint\r\n    }\r\n  },\r\n  watch: {\r\n    curSprint () {\r\n      this.$refs.teamRateChart.refresh()\r\n    }\r\n  },\r\n  methods: {\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/modules/dashboard/components/team-rate-board.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ew-card',{staticStyle:{\"height\":\"350px\"},attrs:{\"title\":\"团队效率\"}},[_c('team-rate-chart',{ref:\"teamRateChart\"})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-24c8344e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/modules/dashboard/components/team-rate-board.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-24c8344e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./team-rate-board.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./team-rate-board.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./team-rate-board.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-24c8344e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./team-rate-board.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-24c8344e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/modules/dashboard/components/team-rate-board.vue\n// module id = null\n// module chunks = ","<template>\r\n  <ew-card title=\"缺陷趋势\" class=\"margin-top-10\" style=\"height: 300px\">\r\n    <sprint-bug-chart ref=\"bugChart\"></sprint-bug-chart>\r\n  </ew-card>\r\n</template>\r\n\r\n<script>\r\nimport sprintBugChart from '../../bug/components/sprint-bug-chart'\r\nexport default {\r\n  data () {\r\n    return {\r\n\r\n    }\r\n  },\r\n  components: {\r\n    sprintBugChart\r\n  },\r\n  computed: {\r\n    curSprint () {\r\n      return this.$store.state.sprint.curSprint\r\n    }\r\n  },\r\n  watch: {\r\n    curSprint () {\r\n      this.$refs.bugChart.refresh()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/modules/dashboard/components/sprint-bug-board.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ew-card',{staticClass:\"margin-top-10\",staticStyle:{\"height\":\"300px\"},attrs:{\"title\":\"缺陷趋势\"}},[_c('sprint-bug-chart',{ref:\"bugChart\"})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-71778246\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/modules/dashboard/components/sprint-bug-board.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-71778246\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./sprint-bug-board.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./sprint-bug-board.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./sprint-bug-board.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-71778246\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./sprint-bug-board.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-71778246\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/modules/dashboard/components/sprint-bug-board.vue\n// module id = null\n// module chunks = ","<template>\r\n  <ew-card title=\"任务统计\" class=\"margin-top-10\" style=\"height: 300px\">\r\n    <sprint-task-analyse ref=\"taskAnalyse\"></sprint-task-analyse>\r\n  </ew-card>\r\n</template>\r\n\r\n<script>\r\nimport sprintTaskAnalyse from '../../sprint/components/sprint-task-analyse'\r\nexport default {\r\n  data () {\r\n    return {\r\n    }\r\n  },\r\n  components: {\r\n    sprintTaskAnalyse\r\n  },\r\n  computed: {\r\n    curSprint () {\r\n      return this.$store.state.sprint.curSprint\r\n    }\r\n  },\r\n  watch: {\r\n    curSprint () {\r\n      this.$refs.taskAnalyse.refresh()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/modules/dashboard/components/sprint-task-board.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ew-card',{staticClass:\"margin-top-10\",staticStyle:{\"height\":\"300px\"},attrs:{\"title\":\"任务统计\"}},[_c('sprint-task-analyse',{ref:\"taskAnalyse\"})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6943d96d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/modules/dashboard/components/sprint-task-board.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6943d96d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./sprint-task-board.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./sprint-task-board.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./sprint-task-board.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6943d96d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./sprint-task-board.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6943d96d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/modules/dashboard/components/sprint-task-board.vue\n// module id = null\n// module chunks = ","<template>\r\n  <panel>\r\n    <div class=\"personal-board\">\r\n      <div class=\"personal-board-toolbar\">\r\n        <todo-board class=\"todo-board\"></todo-board>\r\n        <radio-group class=\"sprint-radio-group\" :list=\"sprintList\" v-model=\"curSprint\"></radio-group>\r\n      </div>\r\n      <el-row :gutter=\"10\">\r\n        <el-col :span=\"12\">\r\n          <sprint-board></sprint-board>\r\n        </el-col>\r\n        <el-col :span=\"12\">\r\n          <team-rate-board></team-rate-board>\r\n        </el-col>\r\n        <el-col :span=\"8\">\r\n          <sprint-task-board></sprint-task-board>\r\n        </el-col>\r\n        <el-col :span=\"16\">\r\n          <sprint-bug-board></sprint-bug-board>\r\n        </el-col>\r\n      </el-row>\r\n      </div>\r\n  </panel>\r\n</template>\r\n\r\n<script>\r\nimport todoBoard from '../components/todo-board'\r\nimport sprintBoard from '../components/sprint-board'\r\nimport teamRateBoard from '../components/team-rate-board'\r\nimport sprintBugBoard from '../components/sprint-bug-board'\r\nimport sprintTaskBoard from '../components/sprint-task-board'\r\nimport { mapActions } from 'vuex'\r\nexport default {\r\n  data () {\r\n    return {\r\n      curSprint: {},\r\n      sprintList: []\r\n    }\r\n  },\r\n  computed: {\r\n    userList () {\r\n      return this.$store.state.userList\r\n    }\r\n  },\r\n  components: {\r\n    todoBoard,\r\n    sprintBoard,\r\n    teamRateBoard,\r\n    sprintBugBoard,\r\n    sprintTaskBoard\r\n  },\r\n  watch: {\r\n    curSprint () {\r\n      this.switchSprint(this.curSprint)\r\n    }\r\n  },\r\n  methods: {\r\n    initData () {\r\n      this.findCurSprint()\r\n    },\r\n    findCurSprint () {\r\n      let condition = {\r\n        state: { '$in': [1, 2] },\r\n        orgId: this.user.orgId || -1\r\n      }\r\n      this.$dataService.find(this.$apiUrl.BASE_FIND + 'sprints', condition).then((data) => {\r\n        this.sprintList = data\r\n        if (this.sprintList.length > 0) {\r\n          this.curSprint = this.sprintList[0]\r\n        }\r\n      })\r\n    },\r\n    ...mapActions(['switchSprint'])\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .personal-board{\r\n    width: 100%;\r\n    height: 100%;\r\n    overflow-y: auto;\r\n    overflow-x: hidden;\r\n\r\n    .personal-board-toolbar{\r\n      display: flex;\r\n      margin-bottom: 10px;\r\n      align-items: center;\r\n      justify-content: flex-end;\r\n\r\n      .todo-board{\r\n        display: flex;\r\n        flex: 1 1 auto;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/modules/dashboard/pages/PersonalBoard.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('panel',[_c('div',{staticClass:\"personal-board\"},[_c('div',{staticClass:\"personal-board-toolbar\"},[_c('todo-board',{staticClass:\"todo-board\"}),_vm._v(\" \"),_c('radio-group',{staticClass:\"sprint-radio-group\",attrs:{\"list\":_vm.sprintList},model:{value:(_vm.curSprint),callback:function ($$v) {_vm.curSprint=$$v},expression:\"curSprint\"}})],1),_vm._v(\" \"),_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":12}},[_c('sprint-board')],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('team-rate-board')],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":8}},[_c('sprint-task-board')],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":16}},[_c('sprint-bug-board')],1)],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6e105258\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/modules/dashboard/pages/PersonalBoard.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6e105258\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./PersonalBoard.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./PersonalBoard.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./PersonalBoard.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6e105258\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./PersonalBoard.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6e105258\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/modules/dashboard/pages/PersonalBoard.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"sprint-bug-chart\"></div>\r\n</template>\r\n\r\n<script>\r\nimport echarts from 'echarts'\r\nexport default {\r\n  data () {\r\n    return {\r\n      bugOrbit: [],\r\n      dates: [],\r\n      newData: [],\r\n      leaveData: []\r\n    }\r\n  },\r\n  computed: {\r\n    curSprint () {\r\n      return this.$store.state.sprint.curSprint\r\n    }\r\n  },\r\n  methods: {\r\n    initParam () {\r\n      this.onresizeDraw()\r\n    },\r\n    initData () {\r\n      if (this.curSprint.id) {\r\n        this.fingBugList().then(() => {\r\n          return this.fintBugOrbit()\r\n        }).then((data) => {\r\n          this.bugOrbit = data\r\n          this.setBugOrbit()\r\n          this.calcData()\r\n          this.drawChart()\r\n        })\r\n      }\r\n    },\r\n    onresizeDraw () {\r\n      window.onresize = () => {\r\n        return (() => {\r\n          this.refresh()\r\n        })()\r\n      }\r\n    },\r\n    refresh () {\r\n      try {\r\n        this.chart.dispose()\r\n      } catch (error) {}\r\n      try {\r\n        this.initData()\r\n      } catch (error) {}\r\n    },\r\n    findCurSprint () {\r\n      this.findCondition = {\r\n        id: this.curSprintId\r\n      }\r\n      return new Promise((resolve, reject) => {\r\n        this.findDataByCondition('sprints').then((data) => {\r\n          if (data && data.length === 1) {\r\n            this.curSprint = data[0]\r\n            resolve()\r\n          }\r\n        })\r\n      })\r\n    },\r\n    fingBugList () {\r\n      this.findCondition = {\r\n        productId: this.curSprint.productId,\r\n        sprintId: this.curSprint.id\r\n      }\r\n      return this.findDataByCondition('bugs')\r\n    },\r\n    fintBugOrbit () {\r\n      let condition = {\r\n        optTime: { '$gte': this.curSprint.startDate, '$lte': this.curSprint.publishDate }\r\n      }\r\n      return this.$dataService.find(this.$apiUrl.BASE_FIND + 'bugOrbit', condition)\r\n    },\r\n    setBugOrbit () {\r\n      this.dataList.forEach(bug => {\r\n        bug.orbit = this.bugOrbit.filter(item => item.bugId === bug.id)\r\n      })\r\n    },\r\n    calcData () {\r\n      this.dates = []\r\n      this.newData = []\r\n      this.leaveData = []\r\n      let startDate = new Date(this.curSprint.startDate)\r\n      let endDate = new Date()\r\n      let misDay = (endDate.getTime() - startDate.getTime()) / 1000 / 60 / 60 / 24\r\n      let [year, month, day] = [startDate.getFullYear(), startDate.getMonth(), startDate.getDate()]\r\n\r\n      let tmpDate\r\n      let tmpDay = 0\r\n      for (let i = 0; i <= misDay; i++) {\r\n        tmpDay = day + i\r\n        tmpDate = new Date(year, month, tmpDay)\r\n        this.dates.push(this.$utils.formatDateTime(tmpDate, 'MM-dd'))\r\n        this.newData.push(this.findNewCount(tmpDate))\r\n        this.leaveData.push(this.findLeaveCount(tmpDate))\r\n      }\r\n    },\r\n    findNewCount (date) {\r\n      let data = {}\r\n      let count = 0\r\n      for (let i = 0, len = this.dataList.length; i < len; i++) {\r\n        data = this.dataList[i]\r\n        if (this.$utils.eqDate(data.createTime, date)) {\r\n          count += 1\r\n        }\r\n      }\r\n      return count\r\n    },\r\n    findLeaveCount (date) {\r\n      let bug = {}\r\n      let count = 0\r\n      for (let i = 0, len = this.dataList.length; i < len; i++) {\r\n        bug = this.dataList[i]\r\n        if (this.$utils.lteDate(bug.createTime, date)) {\r\n          if (bug.state !== 5) {\r\n            count += 1\r\n          } else {\r\n            if (this.$utils.ltDate(date, bug.orbit[bug.orbit.length - 1].optTime)) {\r\n              count += 1\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return count\r\n    },\r\n    drawChart () {\r\n      this.chart = echarts.init(document.getElementById('sprint-bug-chart'))\r\n      this.chart.setOption({\r\n        tooltip: {\r\n          trigger: 'axis'\r\n        },\r\n        legend: {\r\n          data: ['新增', '遗留'],\r\n          right: '4%'\r\n        },\r\n        grid: {\r\n          top: 40,\r\n          left: 0,\r\n          right: 10,\r\n          bottom: 0,\r\n          containLabel: true\r\n        },\r\n        xAxis: {\r\n          type: 'category',\r\n          boundaryGap: false,\r\n          data: this.dates\r\n        },\r\n        yAxis: {\r\n          type: 'value'\r\n        },\r\n        series: [\r\n          {\r\n            name: '新增',\r\n            type: 'line',\r\n            stack: '总量',\r\n            data: this.newData\r\n          },\r\n          {\r\n            name: '遗留',\r\n            type: 'line',\r\n            stack: '总量',\r\n            data: this.leaveData\r\n          }\r\n        ]\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  #sprint-bug-chart{\r\n    height: 100%;\r\n    width: 100%;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/modules/bug/components/sprint-bug-chart.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"sprint-bug-chart\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-89bfcd6c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/modules/bug/components/sprint-bug-chart.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-89bfcd6c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./sprint-bug-chart.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./sprint-bug-chart.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./sprint-bug-chart.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-89bfcd6c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./sprint-bug-chart.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-89bfcd6c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/modules/bug/components/sprint-bug-chart.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
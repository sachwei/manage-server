webpackJsonp([24],{"8mrA":function(e,i){},"z/P7":function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n={render:function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("panel",[t("div",{staticClass:"enum-setting-view"},[t("div",{staticClass:"wrapper"},[t("div",{staticClass:"enum-type"},[t("div",{staticClass:"toolbar"},[t("el-button",{attrs:{size:"small",icon:"el-icon-plus"},on:{click:e.onOpenEnumTypeDialog}}),e._v(" "),t("el-input",{attrs:{"prefix-icon":"el-icon-search",size:"small",type:"text",placeholder:"请输入搜索内容"},model:{value:e.enumTypeSearch,callback:function(i){e.enumTypeSearch=i},expression:"enumTypeSearch"}})],1),e._v(" "),t("ul",e._l(e.filterEnumType,function(i,n){return t("li",{key:n,class:{"active-li":i.id===e.enumTypeForm.id},on:{click:function(t){e.onEnumTypeClick(i)}}},[t("span",[e._v(e._s(i.id+"-"+i.name))]),e._v(" "),i.key?t("span",[e._v(e._s("["+i.key+"]"))]):e._e(),e._v(" "),t("i",{staticClass:"el-icon-edit",on:{click:function(t){t.stopPropagation(),e.onEditEnumType(i)}}}),e._v(" "),t("i",{staticClass:"el-icon-delete",on:{click:function(t){t.stopPropagation(),e.onDeleteEnumType(i)}}})])}))]),e._v(" "),t("div",{staticClass:"enums"},[t("el-button",{attrs:{size:"small",icon:"el-icon-plus"},on:{click:e.onOpenEnumDialog}}),e._v(" "),t("el-table",{staticClass:"enum-table",staticStyle:{width:"100%"},attrs:{data:e.enumList,border:""},on:{"row-dblclick":e.enumDbclick}},[t("el-table-column",{attrs:{prop:"enumTypeId",label:"类型编码",width:"80"}}),e._v(" "),t("el-table-column",{attrs:{prop:"id",label:"编码",width:"80"}}),e._v(" "),t("el-table-column",{attrs:{prop:"name",label:"枚举名称"}}),e._v(" "),t("el-table-column",{attrs:{label:"操作",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(t){e.onDeleteEnum(i.row)}}})]}}])})],1)],1)]),e._v(" "),t("el-dialog",{attrs:{title:"新增枚举类型",visible:e.enumTypeDialogVisible,width:"30%"},on:{"update:visible":function(i){e.enumTypeDialogVisible=i}}},[t("el-input",{attrs:{type:"text",placeholder:"枚举类型名称"},model:{value:e.enumTypeForm.name,callback:function(i){e.$set(e.enumTypeForm,"name",i)},expression:"enumTypeForm.name"}}),t("br"),t("br"),e._v(" "),t("el-input",{attrs:{type:"text",placeholder:"枚举类型Key"},model:{value:e.enumTypeForm.key,callback:function(i){e.$set(e.enumTypeForm,"key",i)},expression:"enumTypeForm.key"}}),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{size:"small"},on:{click:function(i){e.enumTypeDialogVisible=!1}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.onEnumTypeSave}},[e._v("保存")])],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"新增枚举项",visible:e.enumDialogVisible,width:"30%"},on:{"update:visible":function(i){e.enumDialogVisible=i}}},[t("el-input",{attrs:{type:"text",placeholder:"请输入枚举名称"},model:{value:e.enumForm.name,callback:function(i){e.$set(e.enumForm,"name",i)},expression:"enumForm.name"}}),e._v(" "),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{size:"small"},on:{click:function(i){e.enumDialogVisible=!1}}},[e._v("取消")]),e._v(" "),t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.onEnumSave}},[e._v("保存")])],1)],1)],1)])},staticRenderFns:[]};var s=t("VU/8")({data:function(){return{enumTypeDialogVisible:!1,enumDialogVisible:!1,enumTypeList:[],enumList:[],enumForm:{},enumTypeForm:{},enumTypeSearch:""}},computed:{filterEnumType:function(){var e=this;return this.enumTypeSearch.trim()?this.enumTypeList.filter(function(i){return-1!==i.name.indexOf(e.enumTypeSearch)}):this.enumTypeList}},mounted:function(){this.findAllEnumType()},methods:{findAllEnumType:function(){var e=this;this.$dataService.find(this.$apiUrl.SYS_ALL_ENUMTYPE).then(function(i){e.enumTypeList=i})},enumDbclick:function(e,i){this.enumForm=e,this.enumDialogVisible=!0},onEnumTypeClick:function(e){this.enumTypeForm=e,this.findEnumByTypeId(e.id)},findEnumByTypeId:function(e){var i=this,t={enumTypeId:e};this.$dataService.find(this.$apiUrl.SYS_FIND_ENUM,t).then(function(e){i.enumList=e})},onOpenEnumTypeDialog:function(){this.enumTypeForm={},this.enumTypeDialogVisible=!0},onEnumTypeSave:function(){this.enumTypeForm._id?this.enumTypeUpdate():(this.enumTypeForm.id=this.$utils.getMaxId(this.enumTypeList),this.enumTypeAdd())},enumTypeUpdate:function(){var e=this;this.$dataService.update(this.$apiUrl.SYS_UPDATE_ENUMTYPE+this.enumTypeForm._id).then(function(i){e.enumTypeDialogVisible=!1})},enumTypeAdd:function(){var e=this;this.$dataService.save(this.$apiUrl.SYS_SAVE_ENUMTYPE,this.enumTypeForm).then(function(i){e.enumTypeList.push(i),e.enumTypeDialogVisible=!1})},onEditEnumType:function(e){this.enumTypeForm=e,this.enumTypeDialogVisible=!0},onDeleteEnumType:function(e){var i=this;this.$dataService.deleteById(this.$apiUrl.SYS_DELETE_ENUMTYPE+e._id).then(function(){i.enumTypeList=i.enumTypeList.filter(function(i){return i._id!==e._id})})},onOpenEnumDialog:function(){this.enumForm={},this.enumDialogVisible=!0},onEnumSave:function(){if(!this.enumTypeForm.id)return this.enumDialogVisible=!1,void this.$message("请选择枚举类型");this.enumForm._id?this.enumUpdate():(this.enumForm.id=this.$utils.getMaxId(this.enumList),this.enumForm.enumTypeId=this.enumTypeForm.id,this.enumAdd())},enumUpdate:function(){var e=this;this.$dataService.update(this.$apiUrl.SYS_UPDATE_ENUM+this.enumForm._id).then(function(i){e.enumDialogVisible=!1})},enumAdd:function(){var e=this;this.$dataService.save(this.$apiUrl.SYS_SAVE_ENUM,this.enumForm).then(function(i){e.enumList.push(i),e.enumDialogVisible=!1})},onDeleteEnum:function(e){var i=this;this.$dataService.deleteById(this.$apiUrl.SYS_DELETE_ENUM+e._id).then(function(){i.enumList=i.enumList.filter(function(i){return i._id!==e._id})})}}},n,!1,function(e){t("8mrA")},"data-v-2e99a43d",null);i.default=s.exports}});
//# sourceMappingURL=24.75b274fb793c3381b444.js.map
webpackJsonp([25],{"dDj/":function(t,e){},"y+/o":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("panel",[i("div",{staticClass:"xtcs-setting-view"},[i("div",{staticClass:"toolbar"},[i("div",{staticClass:"left"},[i("el-input",{staticStyle:{width:"240px"},attrs:{"prefix-icon":"el-icon-search",size:"small",placeholder:"请输入参数名或说明搜索"},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}})],1),t._v(" "),i("div",{staticClass:"right"},[i("el-button-group",[i("el-button",{attrs:{size:"small",icon:"iconfont icon-add"},on:{click:t.newCs}}),t._v(" "),i("el-button",{attrs:{size:"small",icon:"iconfont icon-shuaxin"},on:{click:t.onRefresh}})],1)],1)]),t._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{clss:"bug-table",data:t.filterDataList,border:""}},[i("el-table-column",{attrs:{label:"序号",type:"index",width:"50"}}),t._v(" "),i("el-table-column",{attrs:{prop:"csName",label:"参数名",width:"280"}}),t._v(" "),i("el-table-column",{attrs:{prop:"csValue",label:"参数值",width:"200"}}),t._v(" "),i("el-table-column",{attrs:{prop:"csNote",label:"参数说明","show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",width:"220px"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-edit"},on:{click:function(i){t.onEditCs(e.row)}}},[t._v("编辑")]),t._v(" "),i("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(i){t.onDeleteCs(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),i("el-dialog",{attrs:{title:t.dialogTitle,visible:t.csDialog,width:"30%"},on:{"update:visible":function(e){t.csDialog=e}}},[i("el-input",{attrs:{type:"text",placeholder:"请输入参数名"},model:{value:t.curCs.csName,callback:function(e){t.$set(t.curCs,"csName",e)},expression:"curCs.csName"}}),i("br"),i("br"),t._v(" "),i("el-input",{attrs:{type:"text",placeholder:"请输入参数值"},model:{value:t.curCs.csValue,callback:function(e){t.$set(t.curCs,"csValue",e)},expression:"curCs.csValue"}}),i("br"),i("br"),t._v(" "),i("el-input",{attrs:{type:"text",placeholder:"请输入参数说明"},model:{value:t.curCs.csNote,callback:function(e){t.$set(t.curCs,"csNote",e)},expression:"curCs.csNote"}}),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"mini"},on:{click:function(e){t.csDialog=!1}}},[t._v("取消")]),t._v(" "),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.onSave}},[t._v("保存")])],1)],1)],1)])},staticRenderFns:[]};var a=i("VU/8")({data:function(){return{dataList:[],curCs:{},csDialog:!1,isNew:!0,searchText:""}},computed:{filterDataList:function(){var t=this;return this.dataList.filter(function(e){return""===t.searchText.trim()||-1!==e.csName.toLowerCase().indexOf(t.searchText.trim().toLowerCase())||-1!==e.csNote.indexOf(t.searchText.trim())})},dialogTitle:function(){return!0===this.isNew?"新增":"修改"}},mounted:function(){this.initData()},methods:{initData:function(){this.findAllCs()},findAllCs:function(){var t=this;this.$dataService.find(this.$apiUrl.SYS_ALL_XTCS).then(function(e){t.dataList=e})},onRefresh:function(){this.findAllCs()},onEditCs:function(t,e){this.isNew=!1,this.curCs=t,this.csDialog=!0},newCs:function(){this.curCs={csName:"",csValue:"",csNote:""},this.isNew=!0,this.csDialog=!0},onDeleteCs:function(t){var e=this;this.$dataService.deleteById(this.$apiUrl.SYS_DELETE_XTCS+t._id).then(function(i){e.dataList=e.dataList.filter(function(e){return e._id!==t._id})})},onSave:function(){this.dataCheck()&&(this.isNew?this.saveData():this.updateData())},dataCheck:function(){return!(!this.curCs.csName||!this.curCs.csValue)},saveData:function(){var t=this;this.$dataService.save(this.$apiUrl.SYS_SAVE_XTCS,this.curCs).then(function(e){t.dataList.push(e),t.csDialog=!1})},updateData:function(){var t=this;this.$dataService.update(this.$apiUrl.SYS_UPDATE_XTCS+this.curCs._id,this.curCs).then(function(e){t.csDialog=!1})}}},s,!1,function(t){i("dDj/")},"data-v-279902ca",null);e.default=a.exports}});
//# sourceMappingURL=25.8cc5bc93e6fd854fd34f.js.map